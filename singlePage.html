<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cart</title>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <!-- <script src="js/qz/rsvp-3.1.0.min.js"></script>
    <script src="js/qz/sha-256.min.js"></script>
    <script src="js/qz/qz-tray.js"></script> -->
    <script type="text/javascript" src="js/dependencies/rsvp-3.1.0.min.js"></script>
    <script type="text/javascript" src="js/dependencies/sha-256.min.js"></script>
    <script type="text/javascript" src="js/qz-tray.js"></script>
    <script type="text/javascript" src="js/additional/jquery-1.11.3.min.js"></script>
    <script src="js/app.js"></script>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.11/semantic.min.css" /> -->
    <link rel="stylesheet" href="css/app.css" />
  </head>

  <body ng-app="app" ng-Controller="StoreController as storeCtrl">
    <div class="menu">
      <ul id="topnav" class="topnav">
        <li><a href ng-click="storeCtrl.orderView = false">Overview</a></li>
        <li><a href ng-click="storeCtrl.orderView = true">Order</a></li>
      </ul>
    </div>
    <div ng-show="storeCtrl.orderView">

      <div id="container" ng-controller="MenuController as menuCtrl">
        <div id="mySidenav" class="sidenav">
          <ul class="mainmenu">
            <li><a href="#starters" id="Starters">Starters</a></li>
            <li><a href="#mains" id="Mains" class="">Mains</a>
              <ul class="submenu">
                <li><a href="#CurryCorner">Curry Corner</a></li>
                <li><a href="#GulaiCorner">Gulai Corner</a></li>
                <li><a href="#SambalCorner">Sambal Corner</a></li>
                <li><a href="#RendangCorner">Rendang Corner</a></li>
                <li><a href="#MasakLemakCorner">Masak Lemak Corner</a></li>
                <li><a href="#NasiLemakCorner">Nasi Lemak Corner</a></li>
                <li><a href="#KurmaCorner">Kurma Corner</a></li>
                <li><a href="#GardenCorner">Garden Corner</a></li>
                <li><a href="#ChineseCorner">Chinese Corner</a></li>
                <li><a href="#ChefsCorner">Chefs Corner</a></li>
                <li><a href="#DosaCorner">Dosa Corner</a></li>
                <li><a href="#HawkersCorner">Hawkers Corner</a></li>
                <li><a href="#RotiCorner">Roti Corner</a></li>
                <li><a href="#Side">Side Corner</a></li>
              </ul>
            </li>
            <li><a href="#drinks" id="Drinks">Drinks</a></li>
          </ul>
        </div>
        <div id="main">
        Table number: <select ng-model="menuCtrl.tableNo" ng-init="menuCtrl.count = 0">
          <option  ng-repeat="table in menuCtrl.table" value="{{$index+1}}">{{table.no}}</option>
        </select>
        <!-- <button ng-click="menuCtrl.tableNo = $index+1" ng-repeat="table in menuCtrl.table" value="{{$index+1}}">{{table.no}}</button> -->
        <div id="starters">
          <h2>Starters</h2>
          <table class="table-whole" id="item-table-starter">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'starters'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>
        </div>
        <div id="mains">
          <h2>Mains</h2>

          <h3 id="CurryCorner">Curry Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'CurryCorner'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="GulaiCorner">Gulai Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Gulai'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="SambalCorner">Sambal Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Sambal'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="RendangCorner">Rendang Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Rendang'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="MasakLemakCorner">Masak Lemak Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'MasakLemak'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="NasiLemakCorner">Nasi Lemak Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'NasiLemak'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="KurmaCorner">Kurma Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Kurma'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="GardenCorner">Garden Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Garden'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="ChineseCorner">Chinese Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Chinese'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="ChefsSpecial">Chefs Special</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Special'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="DosaCorner">Dosa Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Dosa'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="HawkersCorner">Hawkers Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Hawkers'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="RotiCorner">Roti Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Roti'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3 id="Side">Side Corner</h3>
          <table class="table-whole" id="item-table-mains">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Side'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

        </div>
        <div id="drinks">
          <h2>Drinks</h2>

          <h3>Whites</h3>
          <table class="table-whole" id="item-table-drinks">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'whitewine'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3>Reds</h3>
          <table class="table-whole" id="item-table-drinks">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Red'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3>Beers</h3>
          <table class="table-whole" id="item-table-drinks">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Beer'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>

          <h3>Soft Drinks</h3>
          <table class="table-whole" id="item-table-drinks">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'SoftDrinks'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>
          <h3>Hot Drinks</h3>
          <table class="table-whole" id="item-table-drinks">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'HotDrinks'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>
          <h3>Sprites</h3>
          <table class="table-whole" id="item-table-drinks">
            <tr ng-repeat="menu in menuCtrl.menuItem | filter: 'Sprites'" ng-click="menuCtrl.addMenu(menu)">
              <td>
                <div><strong>{{menu.name}}</strong></div>
              </td>
              <td>{{menu.price}}</td>
            </tr>
          </table>
        </div>
      </div>

        <div id="sidebar">
        <h2>Side List</h2>
        <div ng-hide="menuCtrl.table[menuCtrl.tableNo-1].occupied">
          No order(s) is placed.
        </div>
        <div class="sidelist-holder" ng-show="menuCtrl.table[menuCtrl.tableNo-1].occupied">
          <ul id="show-cart">
            <li id="sidelist" class="side-items" ng-repeat="order in menuCtrl.table[menuCtrl.tableNo-1].orders">
              {{order.name}}
              <button ng-click="menuCtrl.removeOne(order)">-</button>
              {{order.quantity}}
              <button ng-click="menuCtrl.addOne(order)">+</button>
              =
              {{order.price | currency}}
              <button ng-click="menuCtrl.removeItem(order)">X</button>
            </li>
          </ul>
          <div> You have {{menuCtrl.getItems(menuCtrl.table[menuCtrl.tableNo-1].orders)}} items in your cart</div>
          <div> Total Cart: {{menuCtrl.getTotal(menuCtrl.table[menuCtrl.tableNo-1]) | currency}}</div>
          <div>
            <button id="clear-cart" ng-click="menuCtrl.clearCart()">Clear cart</button>
            <button id="print" ng-click="menuCtrl.printBill()">print</button>
            <!-- <button id="print"><a href="print.html">Print</a></button> -->
          </div>
        </div>
      </div>

      </div>
    </div>
    <div ng-hide="storeCtrl.orderView">
      <h2 class="overview-top" >Table Overview</h2>
      <div class="overview" ng-repeat="table in storeCtrl.tables" ng-show="table.occupied">
        <h4 class="overview-heading">Table No: {{table.no}}</h4>
        <p class="overview-amount">{{table.total | currency}}</p>
        <button id="clear-cart" ng-click="storeCtrl.clearCart($index)">paid</button>
        <!-- <hr /> -->
      </div>
    </div>
    <script type="text/javascript" src="js/print.js"></script>
  </body>

</html>
